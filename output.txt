This program should be regarded as a DEBUGGING aid, not as a 
certifier of correctness.
Call with the -l flag or read the license file for terms
and conditions of use.
Run this program with "-h" for the list of options.

Bugs, questions, and comments should be directed to
"murphi@verify.stanford.edu".

Murphi compiler last modified date: Jan 29 1999
Include files   last modified date: Jan 29 1999
==========================================================================

==========================================================================
Murphi Release 3.1
Finite-state Concurrent System Verifier.

Copyright (C) 1992 - 1999 by the Board of Trustees of
Leland Stanford Junior University.

==========================================================================

Protocol: moesi

Algorithm:
	Verification by breadth first search.
	with symmetry algorithm 3 -- Heuristic Small Memory Normalization
	with permutation trial limit 10.

Memory usage:

	* The size of each state is 1232 bits (rounded up to 156 bytes).
	* The memory allocated for the hash table and state queue is
	  1073 Mbytes.
	  With two words of overhead per state, the maximum size of
	  the state space is 6694183 states.
	   * Use option "-k" or "-m" to increase this, if necessary.
	* Capacity in queue for breadth-first search: 669418 states.
	   * Change the constant gPercentActiveStates in mu_prolog.inc
	     to increase this, if necessary.

Progress Report:

	1000 states explored in 0.44s, with 2513 rules fired and 426 states in the queue.
	2000 states explored in 0.48s, with 5073 rules fired and 829 states in the queue.
	3000 states explored in 0.51s, with 7952 rules fired and 1134 states in the queue.
	4000 states explored in 0.55s, with 10903 rules fired and 1391 states in the queue.
	5000 states explored in 0.59s, with 13609 rules fired and 1638 states in the queue.
	6000 states explored in 0.63s, with 16488 rules fired and 1917 states in the queue.
	7000 states explored in 0.65s, with 18914 rules fired and 2283 states in the queue.
	8000 states explored in 0.69s, with 21930 rules fired and 2517 states in the queue.
	9000 states explored in 0.73s, with 24571 rules fired and 2830 states in the queue.
	10000 states explored in 0.74s, with 26881 rules fired and 3252 states in the queue.
	11000 states explored in 0.77s, with 29805 rules fired and 3496 states in the queue.
	12000 states explored in 0.81s, with 32733 rules fired and 3748 states in the queue.
	13000 states explored in 0.83s, with 35417 rules fired and 4070 states in the queue.
	14000 states explored in 0.85s, with 37947 rules fired and 4431 states in the queue.
	15000 states explored in 0.87s, with 40721 rules fired and 4729 states in the queue.
	16000 states explored in 0.90s, with 43825 rules fired and 4914 states in the queue.
	17000 states explored in 0.94s, with 46648 rules fired and 5210 states in the queue.
	18000 states explored in 0.97s, with 49679 rules fired and 5425 states in the queue.
	19000 states explored in 1.00s, with 52706 rules fired and 5663 states in the queue.
	20000 states explored in 1.05s, with 55319 rules fired and 6009 states in the queue.
	21000 states explored in 1.09s, with 58501 rules fired and 6182 states in the queue.
	22000 states explored in 1.13s, with 61852 rules fired and 6284 states in the queue.
	23000 states explored in 1.17s, with 64518 rules fired and 6607 states in the queue.
	24000 states explored in 1.22s, with 67802 rules fired and 6796 states in the queue.
	25000 states explored in 1.26s, with 71053 rules fired and 6915 states in the queue.
	26000 states explored in 1.30s, with 74129 rules fired and 7185 states in the queue.
	27000 states explored in 1.33s, with 77185 rules fired and 7374 states in the queue.
	28000 states explored in 1.36s, with 80295 rules fired and 7519 states in the queue.
	29000 states explored in 1.40s, with 83436 rules fired and 7747 states in the queue.
	30000 states explored in 1.44s, with 86747 rules fired and 7922 states in the queue.
	31000 states explored in 1.47s, with 89436 rules fired and 8211 states in the queue.
	32000 states explored in 1.52s, with 92895 rules fired and 8311 states in the queue.
	33000 states explored in 1.57s, with 96381 rules fired and 8418 states in the queue.
	34000 states explored in 1.61s, with 99744 rules fired and 8524 states in the queue.
	35000 states explored in 1.64s, with 103233 rules fired and 8631 states in the queue.
	36000 states explored in 1.67s, with 106274 rules fired and 8839 states in the queue.
	37000 states explored in 1.70s, with 109251 rules fired and 9130 states in the queue.
	38000 states explored in 1.73s, with 112411 rules fired and 9329 states in the queue.
	39000 states explored in 1.76s, with 115505 rules fired and 9503 states in the queue.
	40000 states explored in 1.79s, with 118566 rules fired and 9712 states in the queue.
	41000 states explored in 1.81s, with 121386 rules fired and 9908 states in the queue.
	42000 states explored in 1.85s, with 125072 rules fired and 9927 states in the queue.
	43000 states explored in 1.89s, with 128417 rules fired and 10048 states in the queue.

The following is the error trace for the error:

	Deadlocked state found.

Startstate Startstate 0 fired.
HomeNode.state:H_I
HomeNode.owner:Undefined
HomeNode.val:Undefined
Procs[Proc_1].state:P_I
Procs[Proc_1].val:Undefined
Procs[Proc_2].state:P_I
Procs[Proc_2].val:Undefined
Procs[Proc_3].state:P_I
Procs[Proc_3].val:Undefined
InBox[HomeType][0].mtype:Undefined
InBox[HomeType][0].src:Undefined
InBox[HomeType][0].vc:Undefined
InBox[HomeType][0].val:Undefined
InBox[HomeType][1].mtype:Undefined
InBox[HomeType][1].src:Undefined
InBox[HomeType][1].vc:Undefined
InBox[HomeType][1].val:Undefined
InBox[HomeType][2].mtype:Undefined
InBox[HomeType][2].src:Undefined
InBox[HomeType][2].vc:Undefined
InBox[HomeType][2].val:Undefined
InBox[Proc_1][0].mtype:Undefined
InBox[Proc_1][0].src:Undefined
InBox[Proc_1][0].vc:Undefined
InBox[Proc_1][0].val:Undefined
InBox[Proc_1][1].mtype:Undefined
InBox[Proc_1][1].src:Undefined
InBox[Proc_1][1].vc:Undefined
InBox[Proc_1][1].val:Undefined
InBox[Proc_1][2].mtype:Undefined
InBox[Proc_1][2].src:Undefined
InBox[Proc_1][2].vc:Undefined
InBox[Proc_1][2].val:Undefined
InBox[Proc_2][0].mtype:Undefined
InBox[Proc_2][0].src:Undefined
InBox[Proc_2][0].vc:Undefined
InBox[Proc_2][0].val:Undefined
InBox[Proc_2][1].mtype:Undefined
InBox[Proc_2][1].src:Undefined
InBox[Proc_2][1].vc:Undefined
InBox[Proc_2][1].val:Undefined
InBox[Proc_2][2].mtype:Undefined
InBox[Proc_2][2].src:Undefined
InBox[Proc_2][2].vc:Undefined
InBox[Proc_2][2].val:Undefined
InBox[Proc_3][0].mtype:Undefined
InBox[Proc_3][0].src:Undefined
InBox[Proc_3][0].vc:Undefined
InBox[Proc_3][0].val:Undefined
InBox[Proc_3][1].mtype:Undefined
InBox[Proc_3][1].src:Undefined
InBox[Proc_3][1].vc:Undefined
InBox[Proc_3][1].val:Undefined
InBox[Proc_3][2].mtype:Undefined
InBox[Proc_3][2].src:Undefined
InBox[Proc_3][2].vc:Undefined
InBox[Proc_3][2].val:Undefined
msg_processed:Undefined
to_be_owner:Undefined
upgraded_to_m:false
to_be_sharer:Undefined
LastWrite:Undefined
----------

Rule Write request from P_I, n:Proc_1 fired.
Procs[Proc_1].state:P_IMAD
Net[HomeType]{0}.mtype:GetM
Net[HomeType]{0}.src:Proc_1
Net[HomeType]{0}.vc:1
Net[HomeType]{0}.val:Undefined
----------

Rule receive-net, midx:0, n:HomeType fired.
HomeNode.state:H_M
HomeNode.owner:Proc_1
Net[HomeType]{0}.mtype:Undefined
Net[HomeType]{0}.src:Undefined
Net[HomeType]{0}.vc:Undefined
Net[HomeType]{0}.val:Undefined
Net[Proc_1]{0}.mtype:GetMAck
Net[Proc_1]{0}.src:HomeType
Net[Proc_1]{0}.vc:0
Net[Proc_1]{0}.val:Undefined
msg_processed:true
----------

Rule receive-net, midx:0, n:Proc_1 fired.
Procs[Proc_1].state:P_M
Net[Proc_1]{0}.mtype:Undefined
Net[Proc_1]{0}.src:Undefined
Net[Proc_1]{0}.vc:Undefined
Net[Proc_1]{0}.val:Undefined
----------

Rule Replacement - from P_M, n:Proc_1 fired.
Procs[Proc_1].state:P_MIA
Net[HomeType]{0}.mtype:PutM
Net[HomeType]{0}.src:Proc_1
Net[HomeType]{0}.vc:1
Net[HomeType]{0}.val:Undefined
----------

Rule Write request from P_I, n:Proc_2 fired.
Procs[Proc_2].state:P_IMAD
Net[HomeType]{1}.mtype:GetM
Net[HomeType]{1}.src:Proc_2
Net[HomeType]{1}.vc:1
Net[HomeType]{1}.val:Undefined
----------

Rule Read request from P_I, n:Proc_3 fired.
Procs[Proc_3].state:P_ISD
Net[HomeType]{2}.mtype:GetS
Net[HomeType]{2}.src:Proc_3
Net[HomeType]{2}.vc:1
Net[HomeType]{2}.val:Undefined
----------

Rule receive-net, midx:2, n:HomeType fired.
HomeNode.state:H_MOD
Net[HomeType]{2}.mtype:Undefined
Net[HomeType]{2}.src:Undefined
Net[HomeType]{2}.vc:Undefined
Net[HomeType]{2}.val:Undefined
Net[Proc_1]{0}.mtype:FwdGetS
Net[Proc_1]{0}.src:Proc_3
Net[Proc_1]{0}.vc:2
Net[Proc_1]{0}.val:Undefined
to_be_sharer:Proc_3
----------

Rule receive-net, midx:0, n:Proc_1 fired.
Procs[Proc_1].state:P_OIA
Net[HomeType]{2}.mtype:GetSAck
Net[HomeType]{2}.src:Proc_1
Net[HomeType]{2}.vc:0
Net[HomeType]{2}.val:Undefined
Net[Proc_1]{0}.mtype:Undefined
Net[Proc_1]{0}.src:Undefined
Net[Proc_1]{0}.vc:Undefined
Net[Proc_1]{0}.val:Undefined
Net[Proc_3]{0}.mtype:GetSAck
Net[Proc_3]{0}.src:Proc_1
Net[Proc_3]{0}.vc:0
Net[Proc_3]{0}.val:Undefined
----------

Rule receive-net, midx:2, n:HomeType fired.
HomeNode.state:H_O
HomeNode.sharers{0}:Proc_3
Net[HomeType]{2}.mtype:Undefined
Net[HomeType]{2}.src:Undefined
Net[HomeType]{2}.vc:Undefined
Net[HomeType]{2}.val:Undefined
to_be_sharer:Undefined
----------

Rule receive-net, midx:0, n:Proc_3 fired.
Procs[Proc_3].state:P_S
Net[Proc_3]{0}.mtype:Undefined
Net[Proc_3]{0}.src:Undefined
Net[Proc_3]{0}.vc:Undefined
Net[Proc_3]{0}.val:Undefined
----------

Rule Replacement - from P_S, n:Proc_3 fired.
Procs[Proc_3].state:P_SIA
Net[HomeType]{2}.mtype:PutS
Net[HomeType]{2}.src:Proc_3
Net[HomeType]{2}.vc:1
Net[HomeType]{2}.val:Undefined
----------

Rule receive-net, midx:2, n:HomeType fired.
HomeNode.sharers{0}:Undefined
Net[HomeType]{2}.mtype:Undefined
Net[HomeType]{2}.src:Undefined
Net[HomeType]{2}.vc:Undefined
Net[HomeType]{2}.val:Undefined
Net[Proc_3]{0}.mtype:PutAck
Net[Proc_3]{0}.src:HomeType
Net[Proc_3]{0}.vc:2
Net[Proc_3]{0}.val:Undefined
----------

Rule receive-net, midx:1, n:HomeType fired.
HomeNode.state:H_OMA
Net[HomeType]{1}.mtype:Undefined
Net[HomeType]{1}.src:Undefined
Net[HomeType]{1}.vc:Undefined
Net[HomeType]{1}.val:Undefined
Net[Proc_1]{0}.mtype:FwdGetM
Net[Proc_1]{0}.src:Proc_2
Net[Proc_1]{0}.vc:2
Net[Proc_1]{0}.val:Undefined
to_be_owner:Proc_2
----------

Rule receive-net, midx:0, n:Proc_1 fired.
Procs[Proc_1].state:P_IIA
Net[Proc_1]{0}.mtype:Undefined
Net[Proc_1]{0}.src:Undefined
Net[Proc_1]{0}.vc:Undefined
Net[Proc_1]{0}.val:Undefined
Net[Proc_2]{0}.mtype:GetMAck
Net[Proc_2]{0}.src:Proc_1
Net[Proc_2]{0}.vc:0
Net[Proc_2]{0}.val:Undefined
----------

Rule receive-net, midx:0, n:Proc_2 fired.
Procs[Proc_2].state:P_M
Net[Proc_2]{0}.mtype:Undefined
Net[Proc_2]{0}.src:Undefined
Net[Proc_2]{0}.vc:Undefined
Net[Proc_2]{0}.val:Undefined
----------

Rule receive-net, midx:0, n:Proc_3 fired.
Procs[Proc_3].state:P_I
Net[Proc_3]{0}.mtype:Undefined
Net[Proc_3]{0}.src:Undefined
Net[Proc_3]{0}.vc:Undefined
Net[Proc_3]{0}.val:Undefined
----------

Rule receive-net, midx:0, n:HomeType fired.
Net[HomeType]{0}.mtype:Undefined
Net[HomeType]{0}.src:Undefined
Net[HomeType]{0}.vc:Undefined
Net[HomeType]{0}.val:Undefined
InBox[HomeType][1].mtype:PutM
InBox[HomeType][1].src:Proc_1
InBox[HomeType][1].vc:1
msg_processed:false
----------

Rule Replacement - from P_M, n:Proc_2 fired.
Procs[Proc_2].state:P_MIA
Net[HomeType]{0}.mtype:PutM
Net[HomeType]{0}.src:Proc_2
Net[HomeType]{0}.vc:1
Net[HomeType]{0}.val:Undefined
----------

Rule Write request from P_I, n:Proc_3 fired.
The last state of the trace (in full) is:
HomeNode.state:H_OMA
HomeNode.owner:Proc_1
HomeNode.val:Undefined
Procs[Proc_1].state:P_IIA
Procs[Proc_1].val:Undefined
Procs[Proc_2].state:P_MIA
Procs[Proc_2].val:Undefined
Procs[Proc_3].state:P_IMAD
Procs[Proc_3].val:Undefined
Net[HomeType]{0}.mtype:PutM
Net[HomeType]{0}.src:Proc_2
Net[HomeType]{0}.vc:1
Net[HomeType]{0}.val:Undefined
Net[HomeType]{1}.mtype:GetM
Net[HomeType]{1}.src:Proc_3
Net[HomeType]{1}.vc:1
Net[HomeType]{1}.val:Undefined
InBox[HomeType][0].mtype:Undefined
InBox[HomeType][0].src:Undefined
InBox[HomeType][0].vc:Undefined
InBox[HomeType][0].val:Undefined
InBox[HomeType][1].mtype:PutM
InBox[HomeType][1].src:Proc_1
InBox[HomeType][1].vc:1
InBox[HomeType][1].val:Undefined
InBox[HomeType][2].mtype:Undefined
InBox[HomeType][2].src:Undefined
InBox[HomeType][2].vc:Undefined
InBox[HomeType][2].val:Undefined
InBox[Proc_1][0].mtype:Undefined
InBox[Proc_1][0].src:Undefined
InBox[Proc_1][0].vc:Undefined
InBox[Proc_1][0].val:Undefined
InBox[Proc_1][1].mtype:Undefined
InBox[Proc_1][1].src:Undefined
InBox[Proc_1][1].vc:Undefined
InBox[Proc_1][1].val:Undefined
InBox[Proc_1][2].mtype:Undefined
InBox[Proc_1][2].src:Undefined
InBox[Proc_1][2].vc:Undefined
InBox[Proc_1][2].val:Undefined
InBox[Proc_2][0].mtype:Undefined
InBox[Proc_2][0].src:Undefined
InBox[Proc_2][0].vc:Undefined
InBox[Proc_2][0].val:Undefined
InBox[Proc_2][1].mtype:Undefined
InBox[Proc_2][1].src:Undefined
InBox[Proc_2][1].vc:Undefined
InBox[Proc_2][1].val:Undefined
InBox[Proc_2][2].mtype:Undefined
InBox[Proc_2][2].src:Undefined
InBox[Proc_2][2].vc:Undefined
InBox[Proc_2][2].val:Undefined
InBox[Proc_3][0].mtype:Undefined
InBox[Proc_3][0].src:Undefined
InBox[Proc_3][0].vc:Undefined
InBox[Proc_3][0].val:Undefined
InBox[Proc_3][1].mtype:Undefined
InBox[Proc_3][1].src:Undefined
InBox[Proc_3][1].vc:Undefined
InBox[Proc_3][1].val:Undefined
InBox[Proc_3][2].mtype:Undefined
InBox[Proc_3][2].src:Undefined
InBox[Proc_3][2].vc:Undefined
InBox[Proc_3][2].val:Undefined
msg_processed:false
to_be_owner:Proc_2
upgraded_to_m:false
to_be_sharer:Undefined
LastWrite:Undefined
----------

End of the error trace.

==========================================================================

Result:

	Deadlocked state found.

State Space Explored:

	43709 states, 130759 rules fired in 1.91s.

Analysis of State Space:

	There are rules that are never fired.
	If you are running with symmetry, this may be why.  Otherwise,
	please run this program with "-pr" for the rules information.
	The maximum size for the multiset "HomeNode.sharers" is: 3.
	The maximum size for the multiset "Net[HomeType]" is: 4.
	The maximum size for the multiset "Net[Proc_1]" is: 3.
	The maximum size for the multiset "Net[Proc_2]" is: 3.
	The maximum size for the multiset "Net[Proc_3]" is: 3.
	The maximum size for the multiset "sharers_copy" is: 2.
